---
import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';
import { marked } from 'marked';
import BaseLayout from '../../layouts/BaseLayout.astro';

const { slug } = Astro.params;
const filePath = path.resolve('./src/content/lessons', `${slug}.md`);
const fileContent = fs.readFileSync(filePath, 'utf-8');
const { data, content } = matter(fileContent);
const html = marked(content);
---

<BaseLayout>
  <h1 class="text-2xl font-bold mb-2">{data.title}</h1>
  <p class="text-gray-600 mb-6">{data.description}</p>
  <article class="prose prose-sm max-w-none" set:html={html} />
</BaseLayout>
